{"ast":null,"code":"import _slicedToArray from\"/Users/olgasivyuk/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext,useEffect}from'react';import PopupWithForm from'./PopupWithForm';import{CurrentUserContext}from'../contexts/CurrentUserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser;var currentUser=useContext(CurrentUserContext);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];function handleNameChange(e){setName(e.target.value);}function handleDescriptionChange(e){setDescription(e.target.value);}function handleSubmit(event){event.preventDefault();onUpdateUser({name:name,about:description});}useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser,isOpen]);return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"profile\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",id:\"form-profile\",formName:\"edit-profile-form\",buttonText:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",className:\"popup__input\",placeholder:\"\\u0418\\u043C\\u044F\",minLength:\"2\",maxLength:\"40\",required:true,value:name||'',onChange:handleNameChange}),/*#__PURE__*/_jsx(\"span\",{id:\"error-name\",className:\"popup__error\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"bio\",name:\"bio\",className:\"popup__input\",placeholder:\"\\u041E \\u0441\\u0435\\u0431\\u0435\",minLength:\"2\",maxLength:\"200\",required:true,value:description||'',onChange:handleDescriptionChange}),/*#__PURE__*/_jsx(\"span\",{id:\"error-bio\",className:\"popup__error\"})]});}export default EditProfilePopup;","map":{"version":3,"sources":["/Users/olgasivyuk/dev/react-mesto-auth/src/components/EditProfilePopup.js"],"names":["React","useState","useContext","useEffect","PopupWithForm","CurrentUserContext","EditProfilePopup","isOpen","onClose","onUpdateUser","currentUser","name","setName","description","setDescription","handleNameChange","e","target","value","handleDescriptionChange","handleSubmit","event","preventDefault","about"],"mappings":"4HAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,CAAsCC,SAAtC,KAAuD,OAAvD,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,OAASC,kBAAT,KAAmC,gCAAnC,C,wFAEA,QAASC,CAAAA,gBAAT,MAA2D,IAA/BC,CAAAA,MAA+B,MAA/BA,MAA+B,CAAvBC,OAAuB,MAAvBA,OAAuB,CAAdC,YAAc,MAAdA,YAAc,CACzD,GAAMC,CAAAA,WAAW,CAAGR,UAAU,CAACG,kBAAD,CAA9B,CACA,cAAwBJ,QAAQ,CAAC,EAAD,CAAhC,wCAAOU,IAAP,eAAaC,OAAb,eACA,eAAsCX,QAAQ,CAAC,EAAD,CAA9C,yCAAOY,WAAP,eAAoBC,cAApB,eAEA,QAASC,CAAAA,gBAAT,CAA0BC,CAA1B,CAA6B,CAC3BJ,OAAO,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACD,CAED,QAASC,CAAAA,uBAAT,CAAiCH,CAAjC,CAAoC,CAClCF,cAAc,CAACE,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,CACD,CAED,QAASE,CAAAA,YAAT,CAAsBC,KAAtB,CAA6B,CAC3BA,KAAK,CAACC,cAAN,GACAb,YAAY,CAAC,CACXE,IAAI,CAAEA,IADK,CAEXY,KAAK,CAAEV,WAFI,CAAD,CAAZ,CAID,CAEDV,SAAS,CAAC,UAAM,CACdS,OAAO,CAACF,WAAW,CAACC,IAAb,CAAP,CACAG,cAAc,CAACJ,WAAW,CAACa,KAAb,CAAd,CACD,CAHQ,CAGN,CAACb,WAAD,CAAcH,MAAd,CAHM,CAAT,CAKA,mBACE,MAAC,aAAD,EACI,IAAI,CAAC,SADT,CAEI,KAAK,CAAC,2HAFV,CAGI,EAAE,CAAC,cAHP,CAII,QAAQ,CAAC,mBAJb,CAKI,UAAU,CAAC,wDALf,CAMI,MAAM,CAAEA,MANZ,CAOI,OAAO,CAAEC,OAPb,CAQI,QAAQ,CAAEY,YARd,wBASQ,cACE,IAAI,CAAC,MADP,CAEE,EAAE,CAAC,MAFL,CAGE,IAAI,CAAC,MAHP,CAIE,SAAS,CAAC,cAJZ,CAKE,WAAW,CAAC,oBALd,CAME,SAAS,CAAC,GANZ,CAOE,SAAS,CAAC,IAPZ,CAQE,QAAQ,KARV,CASE,KAAK,CAAET,IAAI,EAAI,EATjB,CAUE,QAAQ,CAAEI,gBAVZ,EATR,cAqBQ,aACE,EAAE,CAAC,YADL,CAEE,SAAS,CAAC,cAFZ,EArBR,cAyBQ,cACE,IAAI,CAAC,MADP,CAEE,EAAE,CAAC,KAFL,CAGE,IAAI,CAAC,KAHP,CAIE,SAAS,CAAC,cAJZ,CAKE,WAAW,CAAC,iCALd,CAME,SAAS,CAAC,GANZ,CAOE,SAAS,CAAC,KAPZ,CAQE,QAAQ,KARV,CASE,KAAK,CAAEF,WAAW,EAAI,EATxB,CAUE,QAAQ,CAAEM,uBAVZ,EAzBR,cAqCQ,aACE,EAAE,CAAC,WADL,CAEE,SAAS,CAAC,cAFZ,EArCR,GADF,CA4CD,CAED,cAAeb,CAAAA,gBAAf","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup ({isOpen, onClose, onUpdateUser}){\n  const currentUser = useContext(CurrentUserContext);\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  \n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    onUpdateUser({\n      name: name,\n      about: description,\n    });\n  }\n\n  useEffect(() => { \n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, isOpen]);\n\n  return (\n    <PopupWithForm\n        name='profile'\n        title='Редактировать профиль'\n        id='form-profile'\n        formName='edit-profile-form'\n        buttonText='Сохранить'\n        isOpen={isOpen}\n        onClose={onClose}\n        onSubmit={handleSubmit}>\n            <input\n              type='text'\n              id='name'\n              name='name'\n              className='popup__input'\n              placeholder='Имя'\n              minLength='2'\n              maxLength='40'\n              required\n              value={name || ''}\n              onChange={handleNameChange} \n            />\n            <span \n              id='error-name' \n              className='popup__error'>\n            </span>\n            <input\n              type='text'\n              id='bio'\n              name='bio'\n              className='popup__input'\n              placeholder='О себе'\n              minLength='2'\n              maxLength='200'\n              required\n              value={description || ''}\n              onChange={handleDescriptionChange}\n            />\n            <span \n              id='error-bio' \n              className='popup__error'>\n            </span>\n        </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;"]},"metadata":{},"sourceType":"module"}